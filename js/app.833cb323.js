(function(t){function e(e){for(var n,o,i=e[0],c=e[1],l=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/running_remote/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0eac":function(t,e,a){"use strict";a("8f5e")},"45af":function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,r,s=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isAppEverEntered?t._e():a("Welcome",{on:{"enter-app":t.afterEnterApp}}),!t.isTutorialEverShown&&t.isAppEverEntered?a("Tutorial",{on:{"end-tutorial":t.afterEndTutorial}}):t._e(),t.isAppEverEntered?a("div",{staticClass:"nav-container flex flex-col absolute top-0 left-0 lg:h-screen border border-white backdrop-filter backdrop-blur-md rounded-xl w-screen lg:w-1/4 transform ",class:[{"-translate-y-90%":t.fold},{"lg:-translate-y-0":t.fold},{"lg:-translate-x-90%":t.fold},{ctransition:t.fold}]},[a("SideNav",{attrs:{"runner-datas":t.runnerDatas},on:{"set-active-runner":t.afterSetActiveRunner}}),t.activeRunnerData?t._e():a("SideNavPlaceholder",{staticClass:"my-6 lg:mt-40",attrs:{"runner-amount":t.runnerDatas.length}}),t.activeRunnerData?a("RunnerInfo",{staticClass:"px-4 flex-1",attrs:{"active-runner":t.activeRunnerData}}):t._e(),a("div",{staticClass:"fold-control cursor-pointer bg-white text-brandblue rounded-xl p-1 lg:w-7 lg:leading-5 absolute -bottom-10 lg:bottom-1/2 lg:translate-y-1/2 right-1/2 lg:-right-6 transform translate-x-1/2 text-center",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.fold=!t.fold}}},[t._v(t._s(t.fold?"點此展開":"點此收合"))])],1):t._e(),t.isAppEverEntered?a("Map",{attrs:{"runner-datas":t.runnerDatas,"active-runner":t.activeRunnerData}}):t._e()],1)},i=[],c=a("bc3a"),l=a.n(c),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"map"}},[a("l-map",{ref:"myMap",staticStyle:{height:"100vh"},attrs:{zoom:t.zoom,center:t.center,options:t.options}},[a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("l-marker",{attrs:{"lat-lng":t.center,draggable:!0}},[a("l-icon",{attrs:{"icon-url":"image/present.png",iconSize:t.iconSize}})],1),t._l(t.runnerDatas,(function(t){return a("RunnerMarker",{key:t.sno,attrs:{"runner-data":t}})})),t.routeGeoJson?a("l-marker",{attrs:{"lat-lng":[t.routeStartLatLng[0],t.routeStartLatLng[1]]}},[a("l-icon",{attrs:{"icon-url":"/running_remote/image/start.png",iconSize:t.iconSize}})],1):t._e(),t.routeGeoJson?a("l-geo-json",{attrs:{geojson:t.routeGeoJson,options:t.routeOptions,layerType:"LineString"}}):t._e(),t.routeGeoJson?a("l-marker",{attrs:{"lat-lng":[t.routeEndLatLng[0],t.routeEndLatLng[1]]}},[a("l-icon",{attrs:{"icon-url":"/running_remote/image/end.png",iconSize:t.iconSize}})],1):t._e()],2)],1)])},d=[],f=(a("fb6a"),a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("l-marker",{attrs:{"lat-lng":t.latlng},on:{click:t.setActiveRunner}},[a("l-icon",{attrs:{"icon-url":"/running_remote/image/runner.png",iconSize:[64,64]}})],1)],1)}),p=[],b={name:"RunnerMarker",props:{runnerData:{type:Object,required:!0}},data:function(){return{}},computed:{latlng:function(){return[this.runnerData.lat,this.runnerData.lng]}},methods:{setActiveRunner:function(){this.$bus.$emit("set-active-runner",this.runnerData)}}},h=b,m=a("2877"),v=Object(m["a"])(h,f,p,!1,null,null,null),g=v.exports,j={name:"Map",components:{RunnerMarker:g},data:function(){return{myMap:null,zoom:12,center:[25,121],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',options:{zoomControl:!1},iconSize:[64,64],routeGeoJson:null,routeStartLatLng:null,routeEndLatLng:null,routeOptions:{color:"#FBC33C",weight:7,dashArray:"10, 10, 10, 10, 10"}}},props:{runnerDatas:{type:Array,required:!0},activeRunner:{type:Object}},watch:{activeRunner:function(t){this.flyTo(t.lat,t.lng,17)},routeGeoJson:function(t){this.routeStartLatLng=t[0].coordinates[0].slice().reverse(),this.routeEndLatLng=t[0].coordinates[t[0].coordinates.length-1].slice().reverse()}},mounted:function(){var t=this;this.$nextTick((function(){t.myMap=t.$refs.myMap.mapObject,t.locate()}))},created:function(){var t=this;this.$bus.$on("check-route",(function(e){var a=e.map((function(t){return t.slice().reverse()}));t.setRouteGeoJson(e),t.flyToBounds(a)}))},methods:{setRouteGeoJson:function(t){this.routeGeoJson=[{type:"LineString",coordinates:t}]},flyTo:function(t,e,a){var n=window.innerWidth>=1280;this.myMap.flyTo([n?t:t+.0015,e],a)},flyToBounds:function(t){var e=window.innerWidth>=1280,a={};e||(a.paddingTopLeft=[0,350]),this.myMap.flyToBounds(t,a)},locate:function(){var t=this;this.myMap.locate({setVeiw:!1}).on("locationfound",(function(e){t.center=[e.latitude,e.longitude],t.flyTo(e.latitude,e.longitude,12)}))}}},y=j,x=Object(m["a"])(y,u,d,!1,null,"67e5f94f",null),_=x.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-3",attrs:{id:"side-nav"}},[a("ol",{staticClass:"nav-panel w-full h-full flex overflow-scroll"},t._l(t.runnerDatas,(function(e){return a("li",{key:e.userId,staticClass:"w-40 min-w-c140 p-3 mr-3 rounded-xl bg-brandblue odd:bg-brandpurple text-white text-center font-bold text-2xl cursor-pointer transform hover:scale-110 transition duration-300",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.setActiveRunner(e)}}},[t._v(t._s(e.name))])})),0)])},D=[],C={name:"SideNav",props:{runnerDatas:{type:Array,required:!0}},methods:{setActiveRunner:function(t){this.$bus.$emit("set-active-runner",t)}}},k=C,S=Object(m["a"])(k,w,D,!1,null,null,null),R=S.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("InfoTab",{staticClass:"ccard flex justify-around",on:{"set-tabed-item":t.afterSetTabedItem}}),"detail"===t.tabedItem?a("DetailInfo",{attrs:{"active-runner":t.activeRunner}}):t._e(),"history"===t.tabedItem?a("History",{attrs:{"active-runner":t.activeRunner}}):t._e(),a("Record",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{"active-runner":t.activeRunner}})],1)},I=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"detail-tab cursor-pointer",class:[{"text-brandyellow":"detail"==t.tabedItem}],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.setToDetail(e)}}},["detail"===t.tabedItem?a("span",[t._v("✓")]):t._e(),t._v("跑者介紹")]),a("div",{staticClass:"history-tab cursor-pointer",class:[{"text-brandyellow":"history"==t.tabedItem}],on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.setToHistory(e)}}},["history"===t.tabedItem?a("span",[t._v("✓")]):t._e(),t._v("跑跑路徑")])])},z=[],M={name:"InfoTab",data:function(){return{tabedItem:"detail"}},methods:{setToDetail:function(){this.tabedItem="detail",this.$emit("set-tabed-item","detail")},setToHistory:function(){this.tabedItem="history",this.$emit("set-tabed-item","history")},setToRecord:function(){this.tabedItem="record",this.$emit("set-tabed-item","record")}}},A=M,T=Object(m["a"])(A,O,z,!1,null,null,null),P=T.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"mt-5 font-semibold text-gray-700"},[t._v("關於")]),a("div",{staticClass:"detail ccard relative"},[a("span",[t._v(t._s(t.activeRunner.name))]),a("span",{staticClass:"ml-1 text-sm text-gray-500"},[t._v("@"+t._s(t.activeRunner.account))]),a("div",{staticClass:"absolute top-1 right-1.5 p-1 border  rounded-2xl text-xs"},[t._v(t._s(t.activeRunner.status)),"上線中"==t.activeRunner.status?a("span",{staticClass:"text-green-400 ml-0.5"},[t._v("•")]):a("span",{staticClass:"text-gray-400 ml-0.5"},[t._v("•")])]),a("p",[t._v(t._s(t.activeRunner.level))]),a("div",{staticClass:"absolute bottom-1 right-1.5 text-xs"},[t._v("累積"),a("p",{staticClass:"text-xl inline font-semibold text-brandwatermelon"},[t._v(t._s(t.activeRunner.odometer))])])]),a("h3",{staticClass:"mt-5 font-semibold"},[t._v("關注社團")]),a("ul",{staticClass:"ccard"},t._l(t.activeRunner.groups,(function(e,n){return a("li",{key:n},[t._v(t._s(e))])})),0)])},L=[],Y={name:"DetailInfo",props:{activeRunner:{type:Object}}},B=Y,J=Object(m["a"])(B,$,L,!1,null,null,null),N=J.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"card-panel w-100 h-72 lg:h-550px overflow-scroll p-0"},[t.isLoading?a("div",{staticClass:"spin-container w-full h-full flex justify-center text-white items-center"},[a("font-awesome-icon",{staticClass:"placeholder animate-spin text-center align-middle text-5xl",attrs:{icon:"circle-notch"}})],1):t._e(),t._l(t.historyData,(function(t,e){return a("HistoryCard",{key:e,staticClass:"ccard",attrs:{"card-route":t.route}})})),a("div",{staticClass:"observe-target"})],2)])},G=[],H=(a("159b"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"start-zone flex items-center"},[a("span",{staticClass:"cchip text-brandblue"},[t._v("起")]),a("div",[a("p",{staticClass:"time mb-0"},[t._v(t._s(t.start.time))]),a("p",{staticClass:"location mb-0"},[t._v(t._s(t.start.location))])])]),a("div",{staticClass:"end-zone flex items-center"},[a("span",{staticClass:"cchip text-brandwatermelon"},[t._v("終")]),a("div",[a("p",{staticClass:"time mb-0"},[t._v(t._s(t.end.time))]),a("p",{staticClass:"location mb-0"},[t._v(t._s(t.end.location))])])]),a("div",{staticClass:"route-info-zone p-2"},[a("div",{staticClass:"flex gap-2"},[a("p",{staticClass:"distance"},[a("font-awesome-icon",{staticClass:"text-brandblue",attrs:{icon:"clock"}}),t._v(" "+t._s(t.timeSpend)+"分鐘 ")],1),a("p",{staticClass:"time-spent"},[a("font-awesome-icon",{staticClass:"text-brandblue",attrs:{icon:"route"}}),t._v(" "+t._s(t.distance)+"公里 ")],1)]),a("button",{staticClass:"check-route w-full h-14 lg:h-8 bg-brandblue text-white rounded-full cbtnaffect",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.checkRoute(e)}}},[t._v("查看路徑")])])])}),U=[],q=a("2909"),F=(a("b680"),a("c1df")),K=a.n(F),V={name:"HistoryCard",props:{cardRoute:{type:Array}},computed:{start:function(){return this.cardRoute[0]},end:function(){return this.cardRoute[this.cardRoute.length-1]},distance:function(){return this.getDistance(this.start.lat,this.start.lng,this.end.lat,this.end.lng,"K")},timeSpend:function(){return K()(this.end.time).diff(this.start.time,"minutes")}},methods:{checkRoute:function(){var t=this,e=Object(q["a"])(Array(this.cardRoute.length)).map((function(e,a){return[t.cardRoute[a].lng,t.cardRoute[a].lat]}));this.$bus.$emit("check-route",e)},getDistance:function(t,e,a,n,r){if(t==a&&e==n)return 0;var s=Math.PI*t/180,o=Math.PI*a/180,i=e-n,c=Math.PI*i/180,l=Math.sin(s)*Math.sin(o)+Math.cos(s)*Math.cos(o)*Math.cos(c);return l>1&&(l=1),l=Math.acos(l),l=180*l/Math.PI,l=60*l*1.1515,"K"==r&&(l*=1.609344),"N"==r&&(l*=.8684),l.toFixed(2)}}},Q=V,X=Object(m["a"])(Q,H,U,!1,null,null,null),Z=X.exports,tt={name:"History",components:{HistoryCard:Z},data:function(){return{historyData:[],page:1,isLoading:!0,totalPage:null}},props:{activeRunner:{type:Object}},methods:{fetchByPage:function(t){var e=document.querySelector(".observe-target"),a={threshold:0},n=this,r=new IntersectionObserver(s,a);function s(e,a){e.forEach((function(e){e.isIntersecting&&l.a.get("https://ohwwmi.deta.dev/api/historyData?userId=".concat(t.userId,"&page=").concat(n.page)).then((function(t){var r=t.data;n.historyData=n.historyData.concat(r),n.isLoading=!1,n.totalPage=r[0].totalPage,n.page+=1,n.page>n.totalPage&&a.unobserve(e.target)})).catch((function(t){return console.log(t)}))}))}r.observe(e)}},mounted:function(){this.fetchByPage(this.activeRunner)},watch:{activeRunner:function(t){this.historyData=[],this.page=1,this.fetchByPage(t)}}},et=tt,at=Object(m["a"])(et,W,G,!1,null,null,null),nt=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col justify-center items-center",attrs:{id:"record-panel"}},[a("input",{staticClass:"w-full h-12 p-3 ccard shadow-md cursor-pointer",attrs:{placeholder:"點此篩選日期",type:"text",name:"daterange"}}),t.loaded?a("line-chart",{attrs:{"fetched-data":t.fetchedData,width:t.chartWidth}}):t._e()],1)},st=[],ot=(a("a15b"),a("1157")),it=a.n(ot),ct=(a("7878"),a("17a8"),a("a4d3"),a("e01a"),a("1fca")),lt=ct["b"].reactiveData,ut={extends:ct["a"],mixins:[lt],props:{fetchedData:{type:Object,default:null}},data:function(){return{chartData:"",options:{responsive:!0}}},mounted:function(){console.log("mounted renderChart"),this.renderChart(this.chartData,this.options)},watch:{fetchedData:function(t){console.log("watch fetchedData changed");var e=this.getDescriptionArray(t),a=this.getDatesArray(t);this.chartData={labels:a,datasets:[{label:"跑跑紀錄",data:e,backgroundColor:["rgba(245, 190, 59, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(245, 190, 59, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}}},methods:{getDescriptionArray:function(t){return Object(q["a"])(Array(t.records.length)).map((function(e,a){return t.records[a].description}))},getDatesArray:function(t){return Object(q["a"])(Array(t.records.length)).map((function(e,a){return t.records[a].date}))}}},dt=ut,ft=Object(m["a"])(dt,n,r,!1,null,null,null),pt=ft.exports;K()().format();var bt={name:"Record",components:{LineChart:pt},data:function(){return{startDate:"",endDate:"",loaded:!1,fetchedData:null,chartWidth:null}},computed:{dateSpan:function(){var t=[],e=new Date(this.startDate),a=new Date(this.endDate);while(e<=a){var n=new Date(e).getFullYear(),r=(new Date(e).getMonth()+1<10?"0":"")+(new Date(e).getMonth()+1),s=(new Date(e).getDate()<10?"0":"")+new Date(e).getDate();t=[].concat(Object(q["a"])(t),["".concat(n,"/").concat(r,"/").concat(s)]),e.setDate(e.getDate()+1)}return t}},props:{activeRunner:{type:Object}},methods:{initPicker:function(){it()('input[name="daterange"]').daterangepicker({maxSpan:{days:30},locale:{cancelLabel:"Clear"},autoUpdateInput:!1,autoApply:!0,showDropdowns:!0})},bindEvent:function(){var t=this;it()('input[name="daterange"]').on("apply.daterangepicker",(function(e,a){t.startDate=a.startDate.format("YYYY/MM/DD"),t.endDate=a.endDate.format("YYYY/MM/DD"),it()(this).val(a.startDate.format("YYYY/MM/DD")+" - "+a.endDate.format("YYYY/MM/DD"))}))},fetchRecordData:function(t,e){var a=this;l.a.get("https://ohwwmi.deta.dev/api/recordData?userId=".concat(t,"&dateSpan=").concat(e)).then((function(t){a.fetchedData=t.data})).catch((function(t){return console.log(t)})),this.loaded=!0},getResponsiveWidth:function(){var t=document.getElementById("record-panel").clientWidth;console.log(t),this.chartWidth=t}},watch:{dateSpan:function(t){var e=this.activeRunner.userId,a=t.join(",");this.fetchRecordData(e,a)},activeRunner:function(t){var e=t.userId,a=this.dateSpan;this.fetchRecordData(e,a)}},mounted:function(){this.initPicker(),this.bindEvent(),this.getResponsiveWidth()},created:function(){}},ht=bt,mt=Object(m["a"])(ht,rt,st,!1,null,"3714767c",null),vt=mt.exports,gt={name:"RunnerInfo",components:{InfoTab:P,DetailInfo:N,History:nt,Record:vt},data:function(){return{tabedItem:"detail"}},props:{activeRunner:{type:Object}},methods:{afterSetTabedItem:function(t){this.tabedItem=t}}},jt=gt,yt=Object(m["a"])(jt,E,I,!1,null,null,null),xt=yt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"absolute top-0 left-0 bottom-0 right-0",class:[{move:t.firstEntered}],attrs:{id:"welcome-page"}},[a("div",{staticClass:"absolute top-0 left-0 bottom-0 right-0 p-5 bg-gradient-to-t from-white to-transparent flex items-end justify-center text-brandwatermelon"},[a("div",{staticClass:"flex flex-col items-center justify-center animate__animated animate__bounceInUp animate__slow"},[a("h1",{staticClass:"text-7xl"},[t._v("歡迎")]),a("p",{staticClass:"font-semibold mb-2"},[t._v("在跑跑上，找到並肩作戰的跑友吧！")]),a("button",{staticClass:"w-full h-20 lg:h-10 rounded-full bg-brandwatermelon text-2xl font-bold text-white cbtnaffect",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.enterApp(e)}}},[t._v("開始吧")])])])])},wt=[],Dt={name:"Welcome",data:function(){return{firstEntered:!1,enteredBefore:!1}},methods:{enterApp:function(){this.firstEntered=!0,localStorage.setItem("enteredBefore","true"),this.$emit("enter-app")}},created:function(){localStorage.getItem("enteredBefore")&&(this.enteredBefore=!0)}},Ct=Dt,kt=(a("0eac"),Object(m["a"])(Ct,_t,wt,!1,null,"69444bb5",null)),St=kt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-screen w-screen bg-white bg-opacity-60 absolute flex justify-center items-center",attrs:{id:"tutorial"}},[n("div",{staticClass:"bg-white p-3 border-8 border-brandblue"},[n("div",{staticClass:"page p-2"},[n("span",{staticClass:"ccircle bg-brandblue text-white"},[t._v("1")]),n("span",{staticClass:"ml-4 text-2xl text-gray-800"},[t._v("尋找跑跑上的跑者")]),1==t.checking?n("div",{staticClass:"page-content"},[n("p",{staticClass:"mt-2 text-gray-700"},[t._v("您可以點擊選單上的名字，或地圖上的跑者圖示，找到跑者")]),n("img",{staticClass:"max-h-96",attrs:{src:a("80cc")}}),n("div",{staticClass:"w-full flex"},[n("button",{staticClass:"cbtnaffect rounded-md w-full lg:w-24 p-2 bg-brandblue text-white ml-auto",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.nextStep(e)}}},[t._v("OK!")])])]):t._e()]),n("div",{staticClass:"page p-2"},[n("span",{staticClass:"ccircle bg-brandblue text-white"},[t._v("2")]),n("span",{staticClass:"ml-4 text-2xl text-gray-800"},[t._v("查看跑者介紹")]),2==t.checking?n("div",{staticClass:"page-content"},[n("p",{staticClass:"mt-2 text-gray-700"},[t._v("您可以在電腦版左側、手機版上測的資訊欄，看到跑者資訊，您還能切換分頁，看到跑者的歷史路程、紀錄統計等資訊")]),n("img",{staticClass:"max-h-96",attrs:{src:a("e5f3")}}),n("div",{staticClass:"flex w-full"},[n("button",{staticClass:"cbtnaffect rounded-md w-full lg:w-24 p-2 bg-brandblue text-white ml-auto",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.nextStep(e)}}},[t._v("OK!")])])]):t._e()]),n("div",{staticClass:"page p-2"},[n("span",{staticClass:"ccircle bg-brandblue text-white"},[t._v("3")]),n("span",{staticClass:"ml-4 text-2xl text-gray-800"},[t._v("收起欄位")]),3==t.checking?n("div",{staticClass:"page-content"},[n("p",{staticClass:"mt-2 text-gray-700"},[t._v("若您想暫時收起欄位框，只要點擊一旁的按鈕就能收起、展開欄位囉")]),n("img",{staticClass:"max-h-96",attrs:{src:a("84d7")}}),n("div",{staticClass:"flex m-full"},[n("button",{staticClass:"cbtnaffect rounded-md w-full lg:w-28 p-2 bg-brandblue text-white ml-auto",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.nextStep(e)}}},[t._v("我準備好了!")])])]):t._e()])])])},Et=[],It={name:"Tutorial",data:function(){return{checking:1,maxStep:3}},methods:{nextStep:function(){this.checking!==this.maxStep?this.checking+=1:this.$emit("end-tutorial")}}},Ot=It,zt=(a("7269"),Object(m["a"])(Ot,Rt,Et,!1,null,"2d8c4ea8",null)),Mt=zt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative"},[a("img",{attrs:{src:"/running_remote/image/placeholder-50.png",alt:""}}),a("h1",{staticClass:"absolute w-full top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center text-gray-700"},[t._v("跑跑上已累積"),a("span",{staticClass:"text-brandyellow font-extrabold text-3xl"},[t._v(t._s(t.runnerAmount))]),t._v("人囉！"),a("br"),t._v("開始找尋你的理想跑友吧！")])])},Tt=[],Pt=(a("a9e3"),{name:"SideNavPlaceholder",props:{runnerAmount:{type:Number}}}),$t=Pt,Lt=Object(m["a"])($t,At,Tt,!1,null,null,null),Yt=Lt.exports,Bt={name:"App",components:{Map:_,SideNav:R,RunnerInfo:xt,Welcome:St,Tutorial:Mt,SideNavPlaceholder:Yt},data:function(){return{runnerDatas:[],activeRunnerData:null,isAppEverEntered:!1,isTutorialEverShown:!1,fold:!1}},methods:{fetchRunnerDatas:function(){var t=this,e=JSON.parse(localStorage.getItem("runnerDatas"));e?this.runnerDatas=e:l.a.get("https://b09f7822-276f-4b86-8a9e-89882e9b3372.mock.pstmn.io/runners").then((function(e){t.runnerDatas=e.data,console.log(e),localStorage.setItem("runnerDatas",JSON.stringify(t.runnerDatas))}))},afterSetActiveRunner:function(t){this.fold=!1,this.activeRunnerData=t},afterEndTutorial:function(){this.isTutorialEverShown=!0,localStorage.setItem("tutorialShown","true")},checkIsAppEverEntered:function(){localStorage.getItem("enteredBefore")&&(this.isAppEverEntered=!0)},checkIsTutorialEverShown:function(){localStorage.getItem("tutorialShown")&&(this.isTutorialEverShown=!0)},afterEnterApp:function(){this.isAppEverEntered=!0}},created:function(){var t=this;this.checkIsAppEverEntered(),this.checkIsTutorialEverShown(),this.fetchRunnerDatas(),this.$bus.$on("set-active-runner",(function(e){t.fold=!1,t.activeRunnerData=e}))}},Jt=Bt,Nt=(a("959f"),Object(m["a"])(Jt,o,i,!1,null,"e530a7f4",null)),Wt=Nt.exports;s["a"].prototype.$bus=new s["a"];a("ba8c");var Gt=a("2699"),Ht=a("a40a"),Ut=a("4e2b"),qt=a("f60f"),Ft=a("fbba"),Kt=a("044a"),Vt=(a("6cc5"),a("ecee")),Qt=a("c074"),Xt=a("b702"),Zt=a("ad3d"),te=a("77ed"),ee=a.n(te),ae=a("e11e");delete ae["Icon"].Default.prototype._getIconUrl,ae["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),s["a"].component("l-map",Gt["a"]),s["a"].component("l-tile-layer",Ht["a"]),s["a"].component("l-marker",Ut["a"]),s["a"].component("l-popup",qt["a"]),s["a"].component("l-icon",Ft["a"]),s["a"].component("l-geo-json",Kt["a"]),Vt["c"].add(Qt["a"],Xt["a"]),s["a"].component("font-awesome-icon",Zt["a"]),s["a"].use(ee.a),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(Wt)}}).$mount("#app")},7269:function(t,e,a){"use strict";a("45af")},"80cc":function(t,e,a){t.exports=a.p+"img/step1.39996328.png"},"84d7":function(t,e,a){t.exports=a.p+"img/step3.706b6cf1.png"},"8f5e":function(t,e,a){},"959f":function(t,e,a){"use strict";a("dc62")},ba8c:function(t,e,a){},dc62:function(t,e,a){},e5f3:function(t,e,a){t.exports=a.p+"img/step2.becebcfa.png"}});
//# sourceMappingURL=app.833cb323.js.map